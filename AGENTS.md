# AGENTS.md

## 문서 목적
이 문서는 CrewAI 멀티 에이전트 프레임워크에서 자동화된 웹 리서치 및 리포트 생성을 수행하는 각 Agent의 역할, 입력/출력, 도구, 제약 조건을 명확히 정의합니다.  
이 에이전트들은 사용자의 리서치 요청에 따라 웹 브라우징부터 PDF/Markdown 보고서 생성까지 자동화된 작업을 수행합니다.

---

## Agent 정의

### 🧠 TopicAnalyzer

- **역할**: 사용자의 리서치 주제를 분석하고, 검색에 최적화된 키워드를 생성
- **입력**: 사용자 자연어 입력 (예: "AI 칩 시장 동향")
- **출력**: 검색 키워드 또는 프롬프트
- **사용 모델**: Qwen2.5-30B via Ollama API (`http://175.124.38.106:9676/`)
- **제약**:
  - 너무 광범위하거나 모호한 키워드는 제거
  - 검색 목적에 맞게 적절히 축약하거나 구체화할 것

---

### 🌐 WebSearcher

- **역할**: 검색 키워드를 사용하여 웹 검색을 수행하고, 주요 문서를 탐색
- **입력**: 검색 프롬프트
- **출력**: 웹 페이지 HTML / 스크린샷 / 주요 URL 리스트
- **도구**: `Selenium`, `browse_use`, Chrome Headless
- **제약**:
  - 로그인, 광고, PDF 링크는 제외
  - 상위 3~5개의 신뢰도 높은 링크만 접근
  - 자동 스크롤 및 클릭 기능 필요

---

### 🧾 ContentExtractor

- **역할**: 웹 페이지 본문에서 유의미한 콘텐츠만 추출
- **입력**: HTML 페이지
- **출력**: 정제된 텍스트 블록 (순수 텍스트)
- **도구**: `BeautifulSoup`, `re`, DOM 탐색
- **제약**:
  - 광고/사이드바/헤더/푸터 제거
  - 기사 본문 또는 설명 중심으로 필터링

---

### 🧠 Summarizer

- **역할**: 다수의 웹 콘텐츠를 종합하여 요약 보고서 초안을 생성
- **입력**: 정제된 텍스트 리스트
- **출력**: Markdown 또는 구조화된 요약 데이터
- **사용 모델**: Qwen2.5-30B (via API)
- **제약**:
  - 3개 이상의 출처 기반 종합 요약
  - 기술적/사실 기반 표현 유지
  - 카피 방지 위해 재서술(Paraphrasing)

---

### 📘 ReportGenerator

- **역할**: 요약된 정보를 Markdown 또는 PDF 포맷으로 리포트화
- **입력**: 요약 내용(JSON 또는 Markdown)
- **출력**: `report.md`, `report.pdf`
- **도구**: `markdown`, `pdfkit`, `reportlab`, Jinja2 템플릿
- **제약**:
  - 문서 제목, 목차, 본문, 참고링크 포함
  - 날짜 및 작성자 자동 삽입

---

### 📤 Notifier (선택)

- **역할**: 생성된 보고서를 사용자에게 전달
- **입력**: 리포트 파일
- **출력**: 전송 결과 (성공/실패)
- **도구**: Email 전송기 / Slack Webhook / 디렉토리 저장
- **제약**:
  - 전달 경로는 환경 설정 파일(`config.yaml`)로 정의됨

---

## 정책 및 주의사항

- 모든 에이전트는 주어진 역할 범위를 벗어나지 않는다.
- 작업 흐름은 순차적이며, 중간 실패 시 종료 또는 리트라이 전략 포함.
- 보고서 내용은 최대한 신뢰 가능한 출처 기반으로 구성하며, AI 할루시네이션(거짓 생성)을 방지해야 한다.